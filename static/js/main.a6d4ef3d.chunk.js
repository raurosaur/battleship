(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,r){},18:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),i=r(7),s=r.n(i),c=r(2),o=r(5),l=r(11),d=r(9),u=r(0),h=function(e){for(var t=e.name,r=e.clickable,a=e.clickHandler,n=Array(Math.pow(10,2)),i=0,s=0,c=0;c<Math.pow(10,2);++c)n[c]=Object(u.jsx)("div",{className:"squares flex-center",id:"".concat(t.toLowerCase(),"-").concat(i,"-").concat(s),onClick:function(e){r&&a&&a(e)}},"".concat(t.toLowerCase(),"-").concat(i,"-").concat(s)),0===(s=(s+1)%10)&&i++;return Object(u.jsxs)("div",{className:"GameBoard flex-center",children:[Object(u.jsx)("h2",{className:"".concat(t.toLowerCase()," ").concat("Player"===t?"green":""),children:t}),Object(u.jsx)("div",{className:"grids",children:n})]})},p=r(10),m=r(8),y=function(e,t){return{name:e,length:t}};var f=function(){function e(t,r){if(Object(o.a)(this,e),this.BoardArray=void 0,this.boardSize=void 0,r){this.BoardArray=new Array(t);for(var a=0;a<t;++a)this.BoardArray[a]=Object(p.a)(r.BoardArray[a])}else{this.BoardArray=[];for(var n=0;n<t;++n){for(var i=[],s=0;s<t;++s)i.push({name:"",hasShip:!1,wasHit:!1});this.BoardArray.push(i)}}this.boardSize=t}return Object(m.a)(e,[{key:"checkAvailability",value:function(e,t,r,a){for(var n=t,i=r,s=0;s<a;s++){if(this.BoardArray[n][i].hasShip)return!1;e?i=(i+1)%this.boardSize:n=(n+1)%this.boardSize}return!0}},{key:"insertShipHorizontal",value:function(e,t,r,a){if(!this.checkAvailability(!1,t,r,a))return!1;for(var n=r,i=0;i<a;i++)this.BoardArray[t][n].name=e,this.BoardArray[t][n].hasShip=!0,n=(n+1)%this.boardSize;return!0}},{key:"insertShipVertical",value:function(e,t,r,a){if(!this.checkAvailability(!0,t,r,a))return!1;for(var n=t,i=0;i<a;i++)this.BoardArray[n][r].name=e,this.BoardArray[n][r].hasShip=!0,n=(n+1)%this.boardSize;return!0}},{key:"hit",value:function(e,t){return this.BoardArray[e][t].wasHit=!0,!!this.BoardArray[e][t].hasShip}},{key:"isGameOver",value:function(){return this.BoardArray.every((function(e){return e.every((function(e){return!e.hasShip||e.wasHit}))}))}},{key:"toString",value:function(){var e="";return this.BoardArray.forEach((function(t){e+=t.map((function(e){return e.hasShip?"\x1b[32mtrue   ":"\x1b[37mfalse  "}))+"\n"})),e}},{key:"print",value:function(){console.log(this.toString())}}]),e}(),v=(y("Carrier",5),y("Battleship",4),y("Destroyer",3),y("Submarine",3),y("Patrol Boat",2),function(e){for(var t=e.update,r=0,n=0,i=!1,s=!1,o=10,l=Array(Math.pow(o,2)),d=Object(a.useState)(!0),h=Object(c.a)(d,2),p=h[0],m=h[1],y=Object(a.useState)(0),v=Object(c.a)(y,2),b=v[0],j=v[1],g=0;g<Math.pow(o,2);++g)l[g]=Object(u.jsx)("div",{className:"squares flex-center",id:"".concat(r,"-").concat(n),onDragOver:A,onDragEnter:A,onDrop:N,onDragLeave:A},"".concat(r,"-").concat(n)),0===(n=(n+1)%o)&&r++;var S=0,O=Object(a.useState)(new f(o)),w=Object(c.a)(O,2),x=w[0],B=w[1];function A(e){e.preventDefault(),e.stopPropagation()}function D(e){e.dataTransfer.setData("text/plain",e.currentTarget.id),e.currentTarget.style.backgroundColor="yellow",S=+e.currentTarget.className[e.currentTarget.className.length-1],s=!1}var k=[{size:5,name:"Carrier",selected:!1},{size:4,name:"Battleship",selected:!1},{size:3,name:"Destroyer",selected:!1},{size:3,name:"Submarine",selected:!1},{size:2,name:"Patrol Boat",selected:!1}];function z(){return k.filter((function(e){return!e.selected&&e.size===S}))[0].name}function N(e){s=!0;var t=e.currentTarget.id.split("-").map((function(e){return+e})),r=Object(c.a)(t,2),a=r[0],n=r[1],l=new f(o,x);if(i=p?l.insertShipHorizontal(z(),a,n,S):l.insertShipVertical(z(),a,n,S)){B(l);for(var d=0;d<S;++d)document.getElementById("".concat(a,"-").concat(n)).style.background="salmon",p?n=(n+1)%o:a=(a+1)%o;j(b+1),A(e)}}function C(e){s&&i?e.currentTarget.style.background="pink":e.currentTarget.style.display="none",5===b&&t(x)}return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"GameBoard flex-center",children:[Object(u.jsx)("h2",{children:"Place your Battle Ships"}),Object(u.jsx)("div",{className:"grids",children:l.map((function(e){return e}))})]}),Object(u.jsxs)("div",{className:"ship-wrapper",children:[Object(u.jsx)("h2",{children:"Drag n' Drop your Ships"}),Object(u.jsx)("button",{onClick:function(){var e=Array.from(document.querySelectorAll(".ship"));document.getElementsByClassName("ships")[0].style.flexDirection=p?"row":"column",e.forEach((function(e){var t=window.getComputedStyle(e),r=t.width,a=t.height;e.style.height=r,e.style.width=a})),m(!p)},children:"Change Orientation"}),Object(u.jsxs)("div",{className:"ships",children:[Object(u.jsx)("div",{className:"ship ship-5",onDragStart:D,onDrop:N,onDragEnd:C,draggable:!0}),Object(u.jsx)("div",{className:"ship ship-4",onDragStart:D,onDrop:N,onDragEnd:C,draggable:!0}),Object(u.jsx)("div",{className:"ship ship-3",onDragStart:D,onDrop:N,onDragEnd:C,draggable:!0}),Object(u.jsx)("div",{className:"ship ship-3",onDragStart:D,onDrop:N,onDragEnd:C,draggable:!0}),Object(u.jsx)("div",{className:"ship ship-2",onDragStart:D,onDrop:N,onDragEnd:C,draggable:!0})]})]})]})});function b(e){return Math.round(Math.random()*(e-1))}var j=10,g=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={choose:!0,player:new f(j),computer:new f(j),hasWon:!1,winner:void 0},e.updatePlayerBoard=function(t){e.setState({player:t})},e.generateRandomGame=function(){for(var t=[{size:5,name:"Carrier",selected:!1},{size:4,name:"Battleship",selected:!1},{size:3,name:"Destroyer",selected:!1},{size:3,name:"Submarine",selected:!1},{size:2,name:"Patrol Boat",selected:!1}],r=[!0,!1],a=new f(j),n=0;!t.every((function(e){return e.selected}));){var i=b(j),s=b(j);(r[b(2)]?a.insertShipVertical(t[n].name,i,s,t[n].size):a.insertShipHorizontal(t[n].name,i,s,t[n].size))&&(t[n++].selected=!0)}e.setState({computer:a})},e.hit=function(e,t){var r=e?"#f00":"#fff",a=document.createElement("div");a.classList.add("target"),a.style.background=r,t.appendChild(a)},e.computerPlay=function(){var t,r;if(!e.state.hasWon){null===(t=document.querySelector("h2.computer"))||void 0===t||t.classList.add("green"),null===(r=document.querySelector("h2.player"))||void 0===r||r.classList.remove("green");for(var a=e.state.player,n=0,i=0;a.BoardArray[n][i].wasHit;)n=b(j),i=b(j);var s=new f(j,a),c=s.hit(n,i),o=document.getElementById("player-".concat(n,"-").concat(i));e.hit(c,o),e.setState({player:s}),e.setState({hasWon:s.isGameOver()}),e.state.hasWon&&e.setState({winner:"Computer"})}},e.handlePlay=function(t){var r,a;if(!e.state.hasWon){null===(r=document.querySelector("h2.player"))||void 0===r||r.classList.add("green"),null===(a=document.querySelector("h2.computer"))||void 0===a||a.classList.remove("green");var n=t.currentTarget.id.split("-"),i=Object(c.a)(n,3),s=i[1],o=i[2],l=new f(j,e.state.computer);if(!l.BoardArray[s][o].wasHit){var d=l.hit(+s,+o);e.hit(d,t.currentTarget),e.setState({computer:l}),e.setState({hasWon:l.isGameOver()}),e.state.hasWon&&e.setState({winner:"You"}),setTimeout(e.computerPlay,500)}}},e.render=function(){var t,r=e.state,a=r.choose,n=r.hasWon,i=r.player,s=r.winner;if(!a){var c=document.querySelector(".grids");if(c)for(var o=0;o<j;o++)for(var l=0;l<j;l++)if(i.BoardArray[o][l].hasShip){var d=c.querySelector("#player-".concat(o,"-").concat(l));d&&(d.style.background="salmon")}}n&&(null===(t=document.querySelector(".winner"))||void 0===t||t.classList.add("show-winner"));return Object(u.jsxs)("div",{className:"App flex-center",children:[Object(u.jsxs)("div",{className:"winner flex-center",children:[" ",s," Won! "]}),a?Object(u.jsx)(v,{update:e.updatePlayerBoard}):Object(u.jsxs)("div",{className:"flex-center",children:[Object(u.jsx)(h,{name:"Player",clickable:!1}),Object(u.jsx)(h,{name:"Computer",clickable:!0,clickHandler:e.handlePlay})]}),Object(u.jsx)("button",{onClick:function(){e.setState({choose:!a}),e.generateRandomGame()},children:a?"Let's Go":"Restart"})]})},e}return r}(n.a.Component);r(17);s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.a6d4ef3d.chunk.js.map